(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01047533"],{"01d6":function(e,t,r){"use strict";r("beaf")},"08d8":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"setting-thirdParty"},[r("div",{staticClass:"page-head"},[e._v("自定义授权配置")]),r("el-form",{ref:"customForm",attrs:{model:e.formData,"status-icon":"","label-position":"left"}},e._l(e.formData.customList,(function(t,s){return r("div",{key:s,staticClass:"we7-panel-form"},[r("div",{staticClass:"we7-panel-form__header"},[e._v("\n        自定义第三方授权配置\n        "),s>0?r("el-button",{attrs:{type:"text"},on:{click:function(t){return e.del(s)}}},[e._v("删除")]):e._e()],1),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"授权登录","label-width":"290px"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.setting.enable,callback:function(r){e.$set(t.setting,"enable",r)},expression:"item.setting.enable"}})],1)],1),r("div",{staticClass:"we7-panel-form__header"},[e._v("\n        自定义第三方登陆配置\n        ")]),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"第三方名称","label-width":"290px",prop:"customList."+s+".setting.name",rules:e.rules.name}},[r("el-input",{model:{value:t.setting.name,callback:function(r){e.$set(t.setting,"name",r)},expression:"item.setting.name"}})],1),r("el-form-item",{attrs:{label:"LOGO","label-width":"290px",prop:"customList."+s+".setting.logo",rules:e.rules.logo}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/admin/upload/image","show-file-list":!1,"before-upload":e.beforeAvatarUpload,"on-success":function(t,r){return e.handleAvatarSuccess(t,r,s)}}},[t.setting.logo?r("img",{staticClass:"avatar",attrs:{src:t.setting.logo}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"APPID","label-width":"290px",prop:"customList."+s+".setting.app_id",rules:e.rules.app_id}},[r("el-input",{model:{value:t.setting.app_id,callback:function(r){e.$set(t.setting,"app_id",r)},expression:"item.setting.app_id"}})],1),r("el-form-item",{attrs:{label:"SERCETkey","label-width":"290px",prop:"customList."+s+".setting.secret_key",rules:e.rules.secret_key}},[r("el-input",{model:{value:t.setting.secret_key,callback:function(r){e.$set(t.setting,"secret_key",r)},expression:"item.setting.secret_key"}})],1),r("el-form-item",{attrs:{label:"ACCESSTOKEN  API地址","label-width":"290px",prop:"customList."+s+".setting.access_token_url",rules:e.rules.access_token_url}},[r("el-input",{model:{value:t.setting.access_token_url,callback:function(r){e.$set(t.setting,"access_token_url",r)},expression:"item.setting.access_token_url"}})],1),r("el-form-item",{attrs:{label:"获取用户信息  API地址","label-width":"290px",prop:"customList."+s+".setting.user_info_url",rules:e.rules.user_info_url}},[r("el-input",{model:{value:t.setting.user_info_url,callback:function(r){e.$set(t.setting,"user_info_url",r)},expression:"item.setting.user_info_url"}})],1)],1),r("div",{staticClass:"we7-panel-form__header"},[r("span",[e._v("转换功能")])]),r("div",{staticClass:"we7-panel-form__body edit"},[r("el-form-item",{attrs:{label:"uid","label-width":"290px"}},[r("el-input",{model:{value:t.convert.uid,callback:function(r){e.$set(t.convert,"uid",r)},expression:"item.convert.uid"}}),r("div",{staticClass:"we7-help-block"},[e._v("请填写第三方系统用户id的字段")])],1),r("el-form-item",{attrs:{label:"username","label-width":"290px"}},[r("el-input",{model:{value:t.convert.username,callback:function(r){e.$set(t.convert,"username",r)},expression:"item.convert.username"}}),r("div",{staticClass:"we7-help-block"},[e._v("请填写第三方系统用户名的字段")])],1)],1)])})),0),r("el-button",{attrs:{type:"text"},on:{click:e.add}},[e._v("+添加自定义授权")]),r("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)},a=[],i=(r("8e6e"),r("ac6a"),r("456d"),r("ade3"));function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o={data:function(){return{formData:{customList:[{setting:{enable:1},convert:{}}]},rules:{name:[{required:!0,message:"请填写第三方名称",trigger:"blur"}],logo:[{required:!0,message:"请上传LOGO",trigger:"blur"}],app_id:[{required:!0,message:"请填写APPID",trigger:"blur"}],secret_key:[{required:!0,message:"请填写SERCETkey",trigger:"blur"}],access_token_url:[{required:!0,message:"请填写ACCESSTOKEN",trigger:"blur"}],user_info_url:[{required:!0,message:"请填写获取用户信息",trigger:"blur"}]}}},methods:{add:function(){this.formData.customList.push({editStatus:!0,setting:{enable:1},convert:{}})},del:function(e){this.formData.customList.splice(e,1)},handleAvatarSuccess:function(e,t,r){this.$set(this.formData.customList[r].setting,"logo",e.data.url)},beforeAvatarUpload:function(e){var t="image/jpg"===e.type||"image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传LOGO只支持jpg、jpeg、png格式!"),r||this.$message.error("上传LOGO大小不能超过 2MB!"),t&&r},save:function(){var e=this;this.$refs.customForm.validate((function(t){if(t){var r={setting:l({},e.formData.customList[0].setting),convert:l({},e.formData.customList[0].convert)};e.$post("/admin/third-party-login/add",r).then((function(){e.$message("添加成功！"),e.$emit("refreshMenu",!0)}))}}))}}},c=o,u=(r("01d6"),r("2877")),p=Object(u["a"])(c,s,a,!1,null,null,null);t["default"]=p.exports},"11e9":function(e,t,r){var s=r("52a7"),a=r("4630"),i=r("6821"),n=r("6a99"),l=r("69a8"),o=r("c69a"),c=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?c:function(e,t){if(e=i(e),t=n(t,!0),o)try{return c(e,t)}catch(r){}if(l(e,t))return a(!s.f.call(e,t),e[t])}},"8e6e":function(e,t,r){var s=r("5ca1"),a=r("990b"),i=r("6821"),n=r("11e9"),l=r("f1ae");s(s.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,s=i(e),o=n.f,c=a(s),u={},p=0;while(c.length>p)r=o(s,t=c[p++]),void 0!==r&&l(u,t,r);return u}})},9093:function(e,t,r){var s=r("ce10"),a=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,a)}},"990b":function(e,t,r){var s=r("9093"),a=r("2621"),i=r("cb7c"),n=r("7726").Reflect;e.exports=n&&n.ownKeys||function(e){var t=s.f(i(e)),r=a.f;return r?t.concat(r(e)):t}},ade3:function(e,t,r){"use strict";function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return s}))},beaf:function(e,t,r){},f1ae:function(e,t,r){"use strict";var s=r("86cc"),a=r("4630");e.exports=function(e,t,r){t in e?s.f(e,t,a(0,r)):e[t]=r}}}]);